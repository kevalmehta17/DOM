<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>To-do</title>
  </head>

  <body>
    <input type="text" class="title" placeholder="title" />
    <br /><br />
    <input type="text" class="description" placeholder="description " />
    <br />
    <br />
    <button onclick="addTodo()">Add Todo</button>

    <div id="container"></div>
  </body>
  <script>
    let globalId = 1;

    function markAsDone(todoId) {
      const parent = document.getElementById(todoId);
      parent.children[2].innerHTML = "Done!";
    }

    function createChild(title, description, id) {
      let outerDiv = document.createElement("div");
      let firstDiv = document.createElement("div");
      firstDiv.innerHTML = title;
      let secondDiv = document.createElement("div");
      secondDiv.innerHTML = description;
      let buttonDiv = document.createElement("button");
      buttonDiv.innerHTML = "Mark as Done";
      buttonDiv.setAttribute("onclick", `markAsDone(${id})`);
      outerDiv.appendChild(firstDiv);
      outerDiv.appendChild(secondDiv);
      outerDiv.appendChild(buttonDiv);
      outerDiv.setAttribute("id", id);
      return outerDiv;
    }

    // function addTodo() {
    //   let title = document.querySelector(".title").value;
    //   let description = document.querySelector(".description").value;
    //   let parent = document.getElementById("container");
    //   parent.appendChild(createChild(title, description, globalId++));
    // let originalHtml = document.getElementById("container").innerHTML;

    // buttonDiv.addEventListener("click", () => {
    //   buttonDiv.innerText = "Done";
    //   buttonDiv.disabled = true;
    // });
    // document.getElementById("container").appendChild(firstDiv);
    // document.getElementById("container").appendChild(secondDiv);
    // document.getElementById("container").appendChild(buttonDiv);
    // // document.getElementById("container").innerHTML =
    // //   originalHtml +
    //   `<div>${title}</div>
    // <div>${description}</div>
    // <button>Mark as done</button>`;
    // }
    function updateDomAccState(state) {
      const parent = document.getElementById("container");
      parent.innerHTML = "";
      for (let i = 0; i < state.length; i++) {
        const child = createChild(
          state[i].title,
          state[i].description,
          state[i].id
        );
        parent.appendChild(child);
      }
    }
    updateDomAccState([
      {
        title: "gym",
        description: "healthy body",
        id: 1,
      },
      {
        title: "code",
        description: "Project",
        id: 2,
      },
    ]);
  </script>
</html>
